<nav class="navbar sticky-top navbar-expand-lg navbar-light" style="background-color: rgb(243, 106, 91)">
  <a class="navbar-brand" href="#">Olimpijske igre 2021</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="http://localhost:4200/delegat/rezultati">Rezultati</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="http://localhost:4200/delegat">Unos rasporeda</a>
      </li>
    </ul>
  </div>
</nav>
<div style="display:flex; justify-content:flex-end; width:100%; padding:0;">
  <button (click)='odjaviSe()'>Odjava</button>
  <button (click)='promenaLozinke()'>Promena lozinke</button>
</div>
<div class="container" style="width: 100%; margin:0 auto;">
  <table class="z-depth-2" style="text-align: center;">
    <tr>
      <th colspan='2'>Unos rezultata takmicenja</th>
    </tr>
    <tr>
      <td>Izaberite sport:</td>
      <td>
        <select name="sport" [(ngModel)]="sport" (ngModelChange)="onChange()">
          <option *ngFor="let s of sportovi" [ngValue]="s">{{s}}</option>
        </select>
      </td>
    </tr>
    <tr>
      <td>Izaberite disciplinu:</td>
      <td>
        <select *ngIf='sport!=""' name="disciplina" [(ngModel)]="disciplina">
          <option *ngFor="let d of discipline" [ngValue]="d">{{d}}</option>
        </select>
      </td>
    </tr>
    <tr>
      <td>Izaberite pol:</td>
      <td>
        <input type="radio" name="pol" id="m" value="m" [(ngModel)]="pol">M
        <input type="radio" name="pol" id="z" value="z" [(ngModel)]="pol">Z
      </td>
    </tr>
    <tr>
      <td>Prikazi takmicenje:</td>
      <td>
        <button (click)='prikaziTakmicenje()'>Prikazi</button>
      </td>
    </tr>
  </table>
</div>

<div class="container" style="width: 100%; margin:0 auto;" *ngIf='ekipno'>
  <table class="z-depth-2" style="text-align: center;" *ngFor="let m of mecevi;let i = index;trackBy:trackByIdx">
    <tr *ngIf='poslednjiNivo==="grupna faza" && i==0'>
      <th>Grupna faza, kolo {{poslednjeKolo}}</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="cetvrtfinale" && i==0'>
      <th>Cetvrtfinale</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="polufinale" && i==0'>
      <th>Polufinale</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="trece mesto" && i==0'>
      <th>Mec za trece mesto</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="finale" && i==0'>
      <th>Finale</th>
    </tr>
    <tr>
      <td>
        <input type="number" [(ngModel)]='rezultat1[i]'> {{m.imenaSportista[0]}} : <input type="number"
          [(ngModel)]='rezultat2[i]'> {{m.imenaSportista[1]}}
      </td>
    </tr>
    <tr>
      <td>Unesi:</td>
      <td>
        <button (click)='unesiRezultatEkpino(m)'>Unesi</button>
      </td>
    </tr>
  </table>
</div>

<div class="container" style="width: 100%; margin:0 auto;" *ngIf='sport==="Tenis" && disciplina==="Singl"'>
  <table class="z-depth-2" style="text-align: center;" *ngFor="let m of mecevi;let i = index;trackBy:trackByIdx">
    <tr *ngIf='poslednjiNivo==="osmina finala" && i==0'>
      <th>Osmina finala</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="cetvrtfinale" && i==0'>
      <th>Cetvrtfinale</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="polufinale" && i==0'>
      <th>Polufinale</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="trece mesto" && i==0'>
      <th>Mec za trece mesto</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="finale" && i==0'>
      <th>Finale</th>
    </tr>
    <tr>
      <td>
        {{m.imenaSportista[0]}} <input type="number" [(ngModel)]='rezultat1[i]' max = '2'> : <input type="number"
          [(ngModel)]='rezultat2[i]' max = '2'> {{m.imenaSportista[1]}}
      </td>
    </tr>
    <tr>
      <td>Unesi:</td>
      <td>
        <button (click)='unesiRezultatTenis(m)'>Unesi</button>
      </td>
    </tr>
  </table>
</div>

<div class="container" style="width: 100%; margin:0 auto;" *ngIf='sport==="Tenis" && disciplina==="Dubl"'>
  <table class="z-depth-2" style="text-align: center;" *ngFor="let m of mecevi;let i = index;trackBy:trackByIdx">
    <tr *ngIf='poslednjiNivo==="osmina finala" && i==0'>
      <th>Osmina finala</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="cetvrtfinale" && i==0'>
      <th>Cetvrtfinale</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="polufinale" && i==0'>
      <th>Polufinale</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="trece mesto" && i==0'>
      <th>Mec za trece mesto</th>
    </tr>
    <tr *ngIf='poslednjiNivo==="finale" && i==0'>
      <th>Finale</th>
    </tr>
    <tr>
      <td>
        {{m.imenaSportista[0]}} i {{m.imenaSportista[1]}} <input type="number" [(ngModel)]='rezultat1[i]' max = '2'> : <input type="number"
          [(ngModel)]='rezultat2[i]' max = '2'> {{m.imenaSportista[2]}} i {{m.imenaSportista[3]}}
      </td>
    </tr>
    <tr>
      <td>Unesi:</td>
      <td>
        <button (click)='unesiRezultatTenis(m)'>Unesi</button>
      </td>
    </tr>
  </table>
</div>

<div class="container" style="width: 100%; margin:0 auto;" *ngIf='individ'>
  <table class="z-depth-2" style="text-align: center;" *ngFor="let t of mojRaspored[0].imenaSportista;let i = index;trackBy:trackByIdx">
    <tr *ngIf='brojKrugova!=0 && i==0'>
      <th *ngIf='format==="trostav"'>{{krug}}. serija</th>
      <th *ngIf='format==="skok" || format==="bacanje"'>{{krug}}. krug</th>
    </tr>
    <tr *ngIf='i==0'>
      <th colspan="2">{{porukaFormat}}</th>
    </tr>
    <tr>
      <td>
        {{t}}: <input type="text" [(ngModel)]='rezultatIndivid[i]'>
      </td>
    </tr>
    <tr>
      <td>Unesi:</td>
      <td>
        <button (click)='unesiRezultatIndivid(i)'>Unesi</button>
      </td>
    </tr>
  </table>
</div>

<div class="container" style="width: 100%; margin:0 auto;" *ngIf='opet'>
  <table class="z-depth-2" style="text-align: center;">
    <tr>
      <th>{{opetPoruka}}</th>
      <th>{{porukaFormat}}</th>
    </tr>
    <tr>
      <td>
        {{opetTakmicari[0]}}: <input type="text" [(ngModel)]='opetRezultat1'>
      </td>
      <td>
        {{opetTakmicari[1]}}: <input type="text" [(ngModel)]='opetRezultat2'>
      </td>
    </tr>
    <tr>
      <td>Unesi:</td>
      <td>
        <button (click)='opetKrug()'>Unesi</button>
      </td>
    </tr>
  </table>
</div>

<button *ngIf = 'zavrsi' (click)='azurirajMedalje()'>Zavrsi takmicenje</button>
<br>
<span style="color: red;"><b>{{poruka}}</b></span>
